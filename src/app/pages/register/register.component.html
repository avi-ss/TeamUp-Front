<div class="container">
  <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
    <mat-stepper orientation="vertical" [linear]="true" #stepper>
      <!--STEP 0 : ACCOUNT-->
      <mat-step [stepControl]="registerForm.value.account">
        <ng-template matStepLabel>Fill your account information</ng-template>
        <h1>Welcome Onboard, Gamer!</h1>
        <p>Let's help you find your perfect team</p>
        <app-account-form formControlName="account"></app-account-form>
        <button mat-raised-button color="primary" matStepperNext>
          Register
        </button>
      </mat-step>

      <!--STEP 1 : BASIC-->
      <mat-step [stepControl]="registerForm.value.basic">
        <ng-template matStepLabel
          >Fill out your personal information</ng-template
        >
        <h1>Tell us more about you</h1>
        <app-basic-form formControlName="basic"></app-basic-form>
        <div>
          <button mat-raised-button color="primary" matStepperPrevious>
            Back
          </button>
          <button mat-raised-button color="primary" matStepperNext>
            Continue
          </button>
        </div>
      </mat-step>

      <!--STEP 2 : PREFERENCES-->
      <mat-step [stepControl]="registerForm.value.preferences">
        <ng-template matStepLabel>Fill out your game preferences</ng-template>
        <h1>Select your favourite game</h1>
        <app-preferences-form
          formControlName="preferences"
        ></app-preferences-form>
        <div>
          <button mat-raised-button color="primary" matStepperPrevious>
            Back
          </button>
          <app-button
            [disabled]="registerForm.invalid"
            type="submit"
            text="Complete"
          ></app-button>
        </div>
      </mat-step>
    </mat-stepper>
  </form>
  <span>Already have an account? <a routerLink="/login">Sign in</a></span>
</div>
